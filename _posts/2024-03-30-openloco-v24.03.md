---
title:      "OpenLoco version 24.03"
tagline:    "Release blog post"
author:     "Duncan Frost"
date:       2024-03-30 09:00:00 +0000
layout:     single
classes:    wide
categories: news
---

OpenLoco v24.03 is out! Its been a busy month with quite a lot of work happening in two key areas:
Landscape/Map generation and Game commands. Lets take a closer look!

## Landscape Generation Refactoring (#2314, #2328, #2353)

Often you find when trying to add new features that the existing code is not structured to allow
what you need. You could try fix it in the feature branch but its much nicer to review if you
perform this separately. So thanks @AaronVanGeffen and @LeftOfZen for doing that. These refactors
were reworking the UI to make room for the new PNG height map loader and preparing for further
alternative terrain generators.

## Implement Map Generation Functions (#2325, #2344, #2307, #2323, #2338)

When generating a custom map it is done in a number of passes. The first couple passes are purely
generating the landscape. Subsequent passes add trees, buildings, towns, industries, etc. This
month @AaronVanGeffen decided to do the industry, building and landscape generation. With these
completed we can start thinking about creating alternative versions for alternative generator
options. Perhaps the community has some ideas for how initial industry distribution should be
changed?

## PNG Height Map Generation (#1941)

@LeftOfZen started this feature a number of months ago and it is now ready for use. You can now
use a PNG image as input into the surface generation! This will allow players to take height maps
of places in real life and bring it into the game with minimal effort!

## Implement Create Road Station Game Command (#2317)

Last month it was the train station creation game command this month its the road station. There
wasn't a whole lot new that was found when implementing the command but one interesting fact is
that road stations like train stations have been designed codewise to work on multi tile road
elements (such as large turns and slopes). There are no objects that use this and I don't think
there would be drawing code for this but its interesting to see that the code for it was written.

## Implement Station Allocation/Deallocation (#2315, #2352)

Often when we implement a function we leave sub functions for a later day. The station allocation
and deallocation was one of those sub functions of the create station game commands. When @AaronVanGeffen
implementing these though we noticed that suddenly there was a change in the deterministic replays
we run. It turned out that the default station name was being generated differently but we hadn't
even touched that bit of code! After much searching we worked out that we introduced a bug last
year in the station name code and when we implemented this function it fixed the bug. The bug would
cause station names to incorrectly use the term 'valley' or 'heights'. Not the most exciting of
issues but a bug all the same.

## Make Station Size Limit Optional (#2306)

One request we get a lot from the community is for larger stations. We've always said that we would
increase it when we had implemented the code that enforces the limit. Well that day is today! You
can now disable the 16x16 limit on station size. You are still limited to 80 tiles per station
but you can make that 80 tiles in a straight line if you so wish. As we tick off more of the game
commands we can make further improvements.

## Save Game Compare Tool (#2168)

@memellis has been working on a tool for development use so that we can compare save games. With
this tool we can much quicker identify mistakes in our implementation of functions. It has already
been of great use just this month helping track down the station name issue and resolve some very
annoying issues in the road station creation code. Great work @memellis!

As always, please find the
[changelog](https://github.com/OpenLoco/OpenLoco/blob/v24.03/CHANGELOG.md)
on GitHub.
